{"version":3,"sources":["webpack:///E:/APPpro/voss/规则之树/components/mp-html/audio/audio.vue?a349","webpack:///E:/APPpro/voss/规则之树/components/mp-html/audio/audio.vue?a469","webpack:///E:/APPpro/voss/规则之树/components/mp-html/audio/audio.vue?d246","webpack:///E:/APPpro/voss/规则之树/components/mp-html/audio/audio.vue?c954","uni-app:///components/mp-html/audio/audio.vue","webpack:///E:/APPpro/voss/规则之树/components/mp-html/audio/audio.vue?9d5c","webpack:///E:/APPpro/voss/规则之树/components/mp-html/audio/audio.vue?5038"],"names":["data","error","playing","time","value","props","aid","name","author","poster","autoplay","controls","loop","src","watch","mounted","context","beforeDestroy","onPageShow","methods","setSrc","play","target","id","pause","playbackRate","seek","_buttonTap","_seeking","_seeked"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgoB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACwBppB;;;;;;;;;;;;;;;;;;;;;AAHA;AACA;AACA;AAFA,eAIA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;IACAC;IAAA;IACAC;IAAA;IACAC;IAAA;IACAC;IAAA;IACAC;IAAA;IACAC;IAAA;IACAC;EACA;;EACAC;IACAD;MACA;IACA;EACA;EACAE;IAAA;IACA;IACA;MACA;MACA;IACA;IACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;;IACA;MACA;QACA;MACA;IACA;IACAC;IACA;EACA;EACAC;IACA;IACAD;EACA;EACAE;IACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACAC;UACAC;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA,oCACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtIA;AAAA;AAAA;AAAA;AAA+5B,CAAgB,o2BAAG,EAAC,C;;;;;;;;;;;ACAn7B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/mp-html/audio/audio.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./audio.vue?vue&type=template&id=7c140678&\"\nvar renderjs\nimport script from \"./audio.vue?vue&type=script&lang=js&\"\nexport * from \"./audio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./audio.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/mp-html/audio/audio.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=template&id=7c140678&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=script&lang=js&\"","<template>\n\t<view v-if=\"controls\" class=\"_contain\">\n    <!-- 海报和按钮 -->\n\t\t<view class=\"_poster\" :style=\"'background-image:url('+poster+')'\">\n\t\t\t<view class=\"_button\" @tap=\"_buttonTap\">\n\t\t\t\t<view :class=\"playing?'_pause':'_play'\" />\n\t\t\t</view>\n\t\t</view>\n    <!-- 曲名和作者 -->\n\t\t<view class=\"_title\">\n\t\t\t<view class=\"_name\">{{name||'未知音频'}}</view>\n\t\t\t<view class=\"_author\">{{author||'未知作者'}}</view>\n\t\t</view>\n    <!-- 进度条 -->\n    <slider class=\"_slider\" activeColor=\"#585959\" block-size=\"12\" handle-size=\"12\" :disabled=\"error\" :value=\"value\" @changing=\"_seeking\" @change=\"_seeked\" />\n    <!--播放时间-->\n\t\t<view class=\"_time\">{{time||'00:00'}}</view>\n\t</view>\n</template>\n\n<script>\n/**\n * @fileoverview audio 组件\n */\nimport context from './context'\nexport default {\n  data () {\n    return {\n      error: false,\n      playing: false,\n      time: '00:00',\n      value: 0\n    }\n  },\n  props: {\n    aid: String,\n    name: String, // 音乐名\n    author: String, // 作者\n    poster: String, // 海报图片地址\n    autoplay: [Boolean, String], // 是否自动播放\n    controls: [Boolean, String], // 是否显示控件\n    loop: [Boolean, String], // 是否循环播放\n    src: String // 源地址\n  },\n  watch: {\n    src (src) {\n      this.setSrc(src)\n    }\n  },\n  mounted () {\n    this._ctx = uni.createInnerAudioContext()\n    this._ctx.onError((err) => {\n      this.error = true\n      this.$emit('error', err)\n    })\n    this._ctx.onTimeUpdate(() => {\n      const time = this._ctx.currentTime\n      const min = parseInt(time / 60)\n      const sec = Math.ceil(time % 60)\n      this.time = (min > 9 ? min : '0' + min) + ':' + (sec > 9 ? sec : '0' + sec)\n      if (!this.lastTime) {\n        this.value = time / this._ctx.duration * 100 // 不在拖动状态下\n      }\n    })\n    this._ctx.onEnded(() => {\n      if (!this.loop) {\n        this.playing = false\n      }\n    })\n    context.set(this.aid, this)\n    this.setSrc(this.src)\n  },\n  beforeDestroy () {\n    this._ctx.destroy()\n    context.remove(this.aid)\n  },\n  onPageShow () {\n    if (this.playing && this._ctx.paused) {\n      this._ctx.play()\n    }\n  },\n  methods: {\n    // 设置源\n    setSrc (src) {\n      this._ctx.autoplay = this.autoplay\n      this._ctx.loop = this.loop\n      this._ctx.src = src\n      if (this.autoplay && !this.playing) {\n        this.playing = true\n      }\n    },\n    // 播放\n    play () {\n      this._ctx.play()\n      this.playing = true\n      this.$emit('play', {\n        target: {\n          id: this.aid\n        }\n      })\n    },\n    // 暂停\n    pause () {\n      this._ctx.pause()\n      this.playing = false\n      this.$emit('pause')\n    },\n    // 设置播放速率\n    playbackRate (rate) {\n      this._ctx.playbackRate = rate\n    },\n    // 移动进度条\n    seek (sec) {\n      this._ctx.seek(sec)\n    },\n    // 内部方法\n    _buttonTap () {\n      if (this.playing) this.pause()\n      else this.play()\n    },\n    _seeking (e) {\n      // 避免过于频繁 setData\n      if (e.timeStamp - this.lastTime < 200) return\n      const time = Math.round(e.detail.value / 100 * this._ctx.duration)\n      const min = parseInt(time / 60)\n      const sec = time % 60\n      this.time = (min > 9 ? min : '0' + min) + ':' + (sec > 9 ? sec : '0' + sec)\n      this.lastTime = e.timeStamp\n    },\n    _seeked (e) {\n      this.seek(e.detail.value / 100 * this._ctx.duration)\n      this.lastTime = undefined\n    }\n  }\n}\n</script>\n\n<style>\n/* 顶层容器 */\n._contain {\n  position: relative;\n  display: inline-flex;\n  width: 290px;\n  background-color: #fcfcfc;\n  border: 1px solid #e0e0e0;\n  border-radius: 2px;\n}\n\n/* 播放、暂停按钮 */\n._button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  overflow: hidden;\n  background-color: rgb(0, 0, 0, 0.2);\n  border: 1px solid white;\n  border-radius: 50%;\n  opacity: 0.9;\n}\n\n._play {\n  margin-left: 2px;\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-left: 8px solid white;\n}\n\n._pause {\n  width: 8px;\n  height: 8px;\n  background-color: white;\n}\n\n/* 海报 */\n._poster {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 70px;\n  height: 70px;\n  background-color: #e6e6e6;\n  background-size: contain;\n}\n\n/* 标题栏 */\n._title {\n  flex: 1;\n  margin: 4px 0 0 14px;\n  text-align: left;\n}\n\n._author {\n  width: 45px;\n  font-size: 12px;\n  color: #888;\n}\n\n._name {\n  width: 140px;\n  font-size: 15px;\n  line-height: 39px;\n}\n\n._author,\n._name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/* 进度条 */\n._slider {\n  position: absolute;\n  right: 16px;\n  bottom: 8px;\n  width: 140px;\n  margin: 0;\n}\n\n/* 播放时间 */\n._time {\n  margin: 7px 14px 0 0;\n  font-size: 12px;\n  color: #888;\n}\n\n/* 响应式布局，大屏幕用更大的尺寸 */\n@media (min-width: 400px) {\n  ._contain {\n    width: 380px;\n  }\n\n  ._button {\n    width: 26px;\n    height: 26px;\n  }\n\n  ._poster {\n    width: 90px;\n    height: 90px;\n  }\n\n  ._author {\n    width: 60px;\n    font-size: 15px;\n  }\n\n  ._name {\n    width: 180px;\n    font-size: 19px;\n    line-height: 55px;\n  }\n\n  ._slider {\n    right: 20px;\n    bottom: 10px;\n    width: 180px;\n  }\n\n  ._time {\n    font-size: 15px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./audio.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1691231436804\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}