{"version":3,"sources":["webpack:///E:/APPpro/voss/RuleAppRro/pages/components/spaceItem.vue?58bb","webpack:///E:/APPpro/voss/RuleAppRro/pages/components/spaceItem.vue?3b31","webpack:///E:/APPpro/voss/RuleAppRro/pages/components/spaceItem.vue?2d56","webpack:///E:/APPpro/voss/RuleAppRro/pages/components/spaceItem.vue?116f","uni-app:///pages/components/spaceItem.vue"],"names":["props","spaceList","type","default","isHead","name","data","owo","owoList","vipDiscount","currencyName","group","uid","isPlay","curVideo","created","that","methods","previewImage","uni","urls","current","subText","replaceSpecialChar","text","formatDate","month","date","hour","minute","formatNumber","toInfo","url","goContentInfo","title","icon","duration","position","goAds","num","i","content","string","token","touid","header","method","dataType","success","setTimeout","fail","id","sid","console","local"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;;;AAGxD;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtFA;AAAA;AAAA;AAAA;AAAqnB,CAAgB,mnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC8PzoB;AAAA;AAQA;AAAA,gBAEA;EACAA;IACAC;MACAC;MACAC;QAAA;MAAA;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;MAEA;MACAC;MACAA;IACA;IACAA;EASA;EACAC;IACAC;MACA;MACAC;QACAC;QACAC;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IAEA;IACAC;MACAC;MACAA;MACAA;MACAA;MACAA;MACA;IACA;IACAC;MACA;MACA;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MAEAZ;QACAa;MACA;IACA;IACAC;MACA;MACA;QACAd;UACAe;UACAC;UACAC;UACAC;QACA;QACA;MACA;MACAlB;QACAa;MACA;IACA;IACAM;MACA;MACA;MACA;IAYA;EAAA,iFACAC;IACA;EACA,4EACAC;IACA;IACA;MACA;IACA;IACA;IACA;EACA,sFACAA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;EACA,0EACAhB;IACA;IACAA;IACAA;IACA;IACA;MAEA;QACAA;MAEA;IACA;IACAA;IACAA;IACA;EACA,sFACAiB,SACA;IACA;IACA;MACAC;MACAA;IACA;MACA;IACA;IACA;EACA,8EACAA;IACA;EACA,4EACAF;IACA;IACA;MACA;IACA;IACA;IACA;EACA,sFAEAA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;EACA,oEACAA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;EACA,8EACAA;IACA;IACA;MACA;IACA;IACA;IACA;IACA;IACA;EACA,sEACAtC;IACA;IACA;IACA;MACA;MACAyC;IACA;MACAxB;QACAe;QACAC;MACA;MACAhB;QACAa;MACA;MACA;IACA;IACAhB;IACA;MACA2B;MACAC;MACA1C;IACA;IACAiB;MACAe;IACA;IACAlB;MAEAgB;MACA1B;MACAuC;QACA;MACA;MACAC;MACAC;MACAC;QACA;QACAC;UACA9B;QACA;QACAA;UACAe;UACAC;QACA;QACA;UACAnB;QACA;UACA;UACA;YACA;cACAf;YACA;UACA;UACAe;QACA;MAEA;MACAkC;QACAD;UACA9B;QACA;QACAA;UACAe;UACAC;QACA;MAEA;IACA;EACA,sEACAgB;IACA;IACA;IACA;MACA;MACAR;IACA;MACAxB;QACAe;QACAC;MACA;MACAhB;QACAa;MACA;MACA;IACA;IACA;MACAb;QACAe;QACAC;MACA;MACA;IACA;MACAnB;IACA;IAEAA;IACA;MACA2B;MACAQ;IACA;IACAhC;MACAe;IACA;IACAlB;MAEAgB;MACA1B;MACAuC;QACA;MACA;MACAC;MACAC;MACAC;QACA;QACAC;UACA9B;QACA;QACAA;UACAe;UACAC;QACA;QACA;UACAnB;QACA;MAEA;MACAkC;QACAD;UACA9B;QACA;QACAA;UACAe;UACAC;QACA;MAEA;IACA;EACA,kEACAgB;IACA;IACAhC;MACAa;IACA;EACA,wEACAmB;IACA;IACAhC;MACAa;IACA;EACA,8EAEAoB;IACA;IACAjC;MACAa;IACA;EACA,8EACAmB;IACA;IACAhC;MACAa;IACA;EACA,sFACA1B;IACA;IACA;IACA;IACA;IACA;IACAa;MACAa;IACA;EACA,oEACApB;IACA;MACAO;QACAe;QACAC;MACA;MACA;IACA;IACAhB;MACAa;IACA;EACA,0EACAmB;IACA;IACA;IAEA;MACA;MACAR;IACA;IACA;MACA;MACA;IACA;IACAxB;MACAe;MACAc;QACA;UACA7B;YACAe;UACA;UAEAlB;YACAgB;YACA1B;YACAuC;cACA;YACA;YACAC;YACAC;YACAC;cACAC;gBACA9B;cACA;cACA;gBACAA;kBACAe;kBACAC;gBACA;cACA;gBACAhB;kBACAe;kBACAC;gBACA;cACA;YAGA;YACAe;cACAD;gBACA9B;cACA;cACAA;gBACAe;gBACAC;cACA;YACA;UACA;QACA;UACAkB;QACA;MACA;IACA;EACA,sEACArB;IACA;IACAhB;IACAA;EACA,0EACAsC;IACA;IACA;MACA;MACA;QACA;MACA;QACA;MACA;IAEA;MACA;IACA;EAEA;AAEA;AAAA,4B","file":"pages/components/spaceItem.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./spaceItem.vue?vue&type=template&id=07d83579&\"\nvar renderjs\nimport script from \"./spaceItem.vue?vue&type=script&lang=js&\"\nexport * from \"./spaceItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/components/spaceItem.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./spaceItem.vue?vue&type=template&id=07d83579&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.spaceList.length\n  var l0 = _vm.__map(_vm.spaceList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = g0 > 0 ? _vm.formatDate(item.created) : null\n    var m1 = g0 > 0 ? _vm.getLocal(item.userJson.local) : null\n    var m2 = g0 > 0 ? _vm.markHtml(item.text) : null\n    var g1 = g0 > 0 && item.type == 0 ? item.picList.length : null\n    var g2 =\n      g0 > 0 && item.type == 1 && !(item.contentJson.cid == 0)\n        ? item.contentJson.images.length\n        : null\n    var m3 =\n      g0 > 0 && item.type == 1 && !(item.contentJson.cid == 0)\n        ? _vm.replaceSpecialChar(item.contentJson.title)\n        : null\n    var g3 =\n      g0 > 0 && item.type == 6 && !(item.postJson.id == 0)\n        ? item.postJson.images.length\n        : null\n    var m4 =\n      g0 > 0 && item.type == 6 && !(item.postJson.id == 0)\n        ? _vm.replaceSpecialChar(item.postJson.title)\n        : null\n    var m5 =\n      g0 > 0 && item.type == 2 && !(item.forwardJson.id == 0)\n        ? _vm.markHtml(item.forwardJson.text)\n        : null\n    var g4 =\n      g0 > 0 && item.type == 2 && !(item.forwardJson.id == 0)\n        ? item.forwardJson.picList.length\n        : null\n    var m6 =\n      g0 > 0 && item.type == 5 && !(item.shopJson.id == 0)\n        ? _vm.replaceSpecialChar(item.shopJson.title)\n        : null\n    var m7 =\n      g0 > 0 && item.type == 5 && !(item.shopJson.id == 0)\n        ? parseInt(item.shopJson.price)\n        : null\n    var m8 = g0 > 0 && item.forward > 0 ? _vm.formatNumber(item.forward) : null\n    var m9 = g0 > 0 && item.reply > 0 ? _vm.formatNumber(item.reply) : null\n    var m10 = g0 > 0 && item.likes > 0 ? _vm.formatNumber(item.likes) : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      m2: m2,\n      g1: g1,\n      g2: g2,\n      m3: m3,\n      g3: g3,\n      m4: m4,\n      m5: m5,\n      g4: g4,\n      m6: m6,\n      m7: m7,\n      m8: m8,\n      m9: m9,\n      m10: m10,\n    }\n  })\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isPlay = false\n    }\n    _vm.e1 = function ($event) {\n      _vm.isPlay = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./spaceItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./spaceItem.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<view class=\"cu-card dynamic no-card square-list\">\n\t\t\t<block  v-for=\"(item,index) in spaceList\" :key=\"index\" v-if=\"spaceList.length>0\">\n\t\t\t\t<view class=\"cu-item\">\n\t\t\t\t\t<view class=\"cu-list menu-avatar\">\n\t\t\t\t\t\t<view class=\"cu-item\">\n\t\t\t\t\t\t\t<view class=\"cu-avatar round lg\" :style=\"'background-image:url('+item.userJson.avatar+');'\" @tap=\"toUserContents(item.userJson)\">\r\n\t\t\t\t\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\n\t\t\t\t\t\t\t\t<view class=\"curLv\" :style=\"getLvStyle(item.userJson.experience)\">{{getLv(item.userJson.experience)}}</view>\r\n\t\t\t\t\t\t\t\t<!--  #endif -->\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"content flex-sub\">\n\t\t\t\t\t\t\t\t<view>{{item.userJson.name}}\n\t\t\t\t\t\t\t\t<block v-if=\"item.userJson.uid!=0\">\r\n\t\t\t\t\t\t\t\t\t<!--  #ifdef H5 || APP-PLUS -->\r\n\t\t\t\t\t\t\t\t\t<!-- <text class=\"userlv\" :style=\"getLvStyle(item.userJson.lv)\">{{getLv(item.userJson.experience)}}</text> -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"userlv\" :style=\"getUserLvStyle(item.userJson.lv)\">{{getUserLv(item.userJson.lv)}}</text>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"userlv customize\" v-if=\"item.userJson.customize&&item.userJson.customize!=''\">{{item.userJson.customize}}</text>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm flex\">\n\t\t\t\t\t\t\t\t\t{{formatDate(item.created)}}\r\n\t\t\t\t\t\t\t\t\t{{getLocal(item.userJson.local)}}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<block v-if=\"group=='administrator'||group=='editor'\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-blue margin-left-sm\" @tap=\"edit(item.id)\">编辑</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-black margin-left-sm\" @tap=\"toBan(item.userJson.uid)\">封禁</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-red margin-left-sm\" @tap=\"toDelete(item.id)\">删除</text>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t\t\t<block v-if=\"item.userJson.uid!=0&&item.userJson.uid==uid\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-blue margin-left-sm\" @tap=\"edit(item.id)\">编辑</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-red margin-left-sm\" @tap=\"toDelete(item.id)\">删除</text>\r\n\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm flex\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"action space-follow\">\n\t\t\t\t\t\t\t\t<view class=\"cu-btn text-red\" v-if=\"item.isFollow==0\" @tap=\"follow(1,item.userJson.uid,index)\">\n\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-add\"></text>关注\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"cu-btn bg-red isFollow\" v-if=\"item.isFollow==1\" @tap=\"follow(0,item.userJson.uid,index)\">\n\t\t\t\t\t\t\t\t\t已关注\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"text-content break-all\" @tap=\"toInfo(item.id)\">\n\t\t\t\t\t\t<rich-text :nodes=\"markHtml(item.text)\"></rich-text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<block  v-if=\"item.type==0\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<view class=\"grid flex-sub padding-lr col-3 grid-square\" v-if=\"item.picList.length>0\">\n\t\t\t\t\t\t\t<view class=\"bg-img\" :style=\"'background-image:url('+data+');'\"\n\t\t\t\t\t\t\t v-for=\"(data,i) in item.picList\" :key=\"i\" @tap=\"previewImage(item.picList,data)\">\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<block  v-if=\"item.type==1\">\n\t\t\t\t\t\t<view class=\"grid flex-sub padding-lr\">\r\n\t\t\t\t\t\t\t<block v-if=\"item.contentJson.cid==0\">\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t文章不存在\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t\t\t该文章已被删除或数据缺失！\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-info\" @tap=\"goContentInfo(item.contentJson)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-pic\" v-if=\"item.contentJson.images.length>0\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.contentJson.images[0]\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{replaceSpecialChar(item.contentJson.title)}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{item.contentJson.text}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<block  v-if=\"item.type==6\">\r\n\t\t\t\t\t\t<view class=\"grid flex-sub padding-lr\">\r\n\t\t\t\t\t\t\t<block v-if=\"item.postJson.id==0\">\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t帖子不存在\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t\t\t帖子已被删除或数据缺失！\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-info\" @tap=\"goPostInfo(item.postJson.id)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-pic\" v-if=\"item.postJson.images.length>0\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.postJson.images[0]\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{replaceSpecialChar(item.postJson.title)}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{item.postJson.text}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\n\t\t\t\t\t<block  v-if=\"item.type==2\">\n\t\t\t\t\t\t<view class=\"grid flex-sub padding-lr\">\n\t\t\t\t\t\t\t<block v-if=\"item.forwardJson.id==0\">\r\n\t\t\t\t\t\t\t\t<view class=\"user-space-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-space-text\">\r\n\t\t\t\t\t\t\t\t\t\t该动态已被删除或数据缺失！\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t<view class=\"user-space-info\" @tap=\"toInfo(item.forwardJson.id)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-space-text\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-blue\">@{{item.forwardJson.username}}：</text><rich-text :nodes=\"markHtml(item.forwardJson.text)\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<view class=\"grid flex-sub col-3 grid-square margin-top-xs\" v-if=\"item.forwardJson.picList.length>0\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"bg-img\" :style=\"'background-image:url('+data+');'\"\r\n\t\t\t\t\t\t\t\t\t\t v-for=\"(data,i) in item.forwardJson.picList\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<block  v-if=\"item.type==4\">\n\t\t\t\t\t\t<view class=\"padding-lr spaceVideo\">\r\n\t\t\t\t\t\t\t<!--  #ifdef H5 || MP-->\n\t\t\t\t\t\t\t<video :src=\"item.pic\"></video>\r\n\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t\t<!--  #ifdef APP-PLUS -->\r\n\t\t\t\t\t\t\t<view class=\"spaceVideo-play\" @tap=\"goPlay(item.pic)\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-playfill\"></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<block  v-if=\"item.type==5\">\n\t\t\t\t\t\t<view class=\"grid flex-sub padding-lr\">\r\n\t\t\t\t\t\t\t<block v-if=\"item.shopJson.id==0\">\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t该商品不存在或已被删除！\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-red text-lg text-bold\">-- {{currencyName}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-gray text-sm\">剩余数量：0</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t<view class=\"user-post-info\" @tap=\"goShopInfo(item.shopJson.id)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-pic\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.shopJson.imgurl\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"user-post-text\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{replaceSpecialChar(item.shopJson.title)}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-red text-lg text-bold\">{{parseInt(item.shopJson.price)}} {{currencyName}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"user-post-intro\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-gray text-sm\">剩余数量：{{item.shopJson.num}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t\t<view class=\"text-center grid col-3 padding-xs\">\n\t\t\t\t\t\t<view class=\"square-post-btn\" @tap=\"forward(item.id)\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-forward\"></text>\n\t\t\t\t\t\t\t<block v-if=\"item.forward>0\">\n\t\t\t\t\t\t\t\t{{formatNumber(item.forward)}}\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-else>\n\t\t\t\t\t\t\t\t转发\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"square-post-btn\"  @tap=\"toInfo(item.id)\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-community\"></text>\n\t\t\t\t\t\t\t<block v-if=\"item.reply>0\">\n\t\t\t\t\t\t\t\t{{formatNumber(item.reply)}}\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-else>\n\t\t\t\t\t\t\t\t评论\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"square-post-btn\" @tap=\"toLike(item.id,index)\">\n\t\t\t\t\t\t\t<text class=\"cuIcon-appreciate\" :class=\"item.isLikes==1?'text-red':''\"></text>\n\t\t\t\t\t\t\t<block v-if=\"item.likes>0\">\n\t\t\t\t\t\t\t\t{{formatNumber(item.likes)}}\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t<block v-else>\n\t\t\t\t\t\t\t\t点赞\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</block>\n\t\t</view>\r\n\t\t<view class=\"videoPlay\" v-if=\"isPlay\">\r\n\t\t\t<view class=\"videoPlay-bg\" @tap=\"isPlay=false\">\r\n\t\t\t\t<view class=\"videoPlay-close\" @tap=\"isPlay=false\">\r\n\t\t\t\t\t<i class=\"cuIcon-close\"></i>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<video :src=\"curVideo\"></video>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport { localStorage } from '../../js_sdk/mp-storage/mp-storage/index.js'\n\t// #ifdef APP-PLUS\n\timport owo from '../../static/app-plus/owo/OwO.js'\n\t// #endif\n\t// #ifdef H5\n\timport owo from '../../static/h5/owo/OwO.js'\n\t// #endif\n\t// #ifdef MP\n\tvar owo = [];\n\t// #endif\n\texport default {\n\t    props: {\n\t        spaceList: {\n\t\t\t  type: Array,\n\t\t\t  default: () => []\n\t\t\t},\n\t\t\tisHead: {\n\t\t\t  type: Boolean,\n\t\t\t  default: true\n\t\t\t}\n\t    },\n\t\tname: \"spaceItem\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\towo:owo,\n\t\t\t\towoList:[],\n\t\t\t\tvipDiscount:0,\n\t\t\t\tcurrencyName:\"\",\r\n\t\t\t\tgroup:\"\",\r\n\t\t\t\tuid:0,\r\n\t\t\t\tisPlay:false,\r\n\t\t\t\tcurVideo:\"\",\n\t\t\t};\n\t\t},\n\t\tcreated(){\n\t\t\tvar that = this;\r\n\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\tthat.group = userInfo.group;\r\n\t\t\t\tthat.uid = userInfo.uid;\r\n\t\t\t}\n\t\t\tthat.currencyName = that.$API.getCurrencyName();\n\t\t\t// #ifdef APP-PLUS || H5\n\t\t\tvar owo = that.owo.data;\n\t\t\tvar owoList=[];\n\t\t\tfor(var i in owo){\n\t\t\t\towoList = owoList.concat(owo[i].container);\n\t\t\t}\n\t\t\tthat.owoList = owoList;\n\t\t\t// #endif\n\t\t},\n\t\tmethods: {\n\t\t\tpreviewImage(imageList,image) {\n\t\t\t\t//预览图片\n\t\t\t\tuni.previewImage({\n\t\t\t\t\turls: imageList,\n\t\t\t\t\tcurrent: image\n\t\t\t\t});\n\t\t\t},\n\t\t\tsubText(text,num){\n\t\t\t\tif(text.length < null){\n\t\t\t\t\treturn text.substring(0,num)+\"……\"\n\t\t\t\t}else{\n\t\t\t\t\treturn text;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\treplaceSpecialChar(text) {\n\t\t\t  text = text.replace(/&quot;/g, '\"');\n\t\t\t  text = text.replace(/&amp;/g, '&');\n\t\t\t  text = text.replace(/&lt;/g, '<');\n\t\t\t  text = text.replace(/&gt;/g, '>');\n\t\t\t  text = text.replace(/&nbsp;/g, ' ');\n\t\t\t  return text;\n\t\t\t},\n\t\t\tformatDate(datetime) {\n\t\t\t\tvar datetime = new Date(parseInt(datetime * 1000));\n\t\t\t\tvar year = datetime.getFullYear(),\n\t\t\t\t\tmonth = (\"0\" + (datetime.getMonth() + 1)).slice(-2),\n\t\t\t\t\tdate = (\"0\" + datetime.getDate()).slice(-2),\n\t\t\t\t\thour = (\"0\" + datetime.getHours()).slice(-2),\n\t\t\t\t\tminute = (\"0\" + datetime.getMinutes()).slice(-2);\n\t\t\t\tvar result = year + \"-\" + month + \"-\" + date + \" \" + hour + \":\" + minute;\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tformatNumber(num) {\n\t\t\t    return num >= 1e3 && num < 1e4 ? (num / 1e3).toFixed(1) + 'k' : num >= 1e4 ? (num / 1e4).toFixed(1) + 'w' : num\n\t\t\t},\n\t\t\ttoInfo(id){\n\t\t\t\tvar that = this;\n\t\t\t\t\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/space/info?id='+id\n\t\t\t\t});\n\t\t\t},\n\t\t\tgoContentInfo(data){\n\t\t\t\tvar that = this;\n\t\t\t\tif(data.status!=\"publish\"){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"文章正在审核中，请稍后再试！\",\n\t\t\t\t\t\ticon:'none',\n\t\t\t\t\t\tduration: 1000,\n\t\t\t\t\t\tposition:'bottom',\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/contents/info?cid='+data.cid+\"&title=\"+data.title\n\t\t\t\t});\n\t\t\t},\n\t\t\tgoAds(data){\n\t\t\t\tvar that = this;\n\t\t\t\tvar url = data.url;\n\t\t\t\tvar type = data.urltype;\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tif(type==1){\n\t\t\t\t\tplus.runtime.openURL(url);\n\t\t\t\t}\n\t\t\t\tif(type==0){\n\t\t\t\t\tplus.runtime.openWeb(url);\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef H5\n\t\t\t\twindow.open(url)\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\tformatNumber(num) {\n\t\t\t    return num >= 1e3 && num < 1e4 ? (num / 1e3).toFixed(1) + 'k' : num >= 1e4 ? (num / 1e4).toFixed(1) + 'w' : num\n\t\t\t},\n\t\t\tgetUserLv(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar rankList = that.$API.GetRankList();\n\t\t\t\treturn rankList[i];\n\t\t\t},\n\t\t\tgetUserLvStyle(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar rankStyle = that.$API.GetRankStyle();\n\t\t\t\tvar userlvStyle =\"color:#fff;background-color: \"+rankStyle[i];\n\t\t\t\treturn userlvStyle;\n\t\t\t},\n\t\t\tmarkHtml(text){\n\t\t\t\tvar that = this;\r\n\t\t\t\ttext = that.replaceAll(text,\"<\",\"&lt;\");\r\n\t\t\t\ttext = that.replaceAll(text,\">\",\"&gt;\");\n\t\t\t\tvar owoList=that.owoList;\n\t\t\t\tfor(var i in owoList){\n\t\t\t\t\n\t\t\t\t\tif(that.replaceSpecialChar(text).indexOf(owoList[i].data) != -1){\n\t\t\t\t\t\ttext = that.replaceAll(that.replaceSpecialChar(text),owoList[i].data,\"<img src='/\"+owoList[i].icon+\"' class='tImg' />\")\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\r\n\t\t\t\ttext = that.replaceAll(text,\"/r/n\",\"<br>\");\r\n\t\t\t\ttext = that.TransferString(text);\n\t\t\t\treturn text;\n\t\t\t},\r\n\t\t\tTransferString(content)\r\n\t\t\t{  \r\n\t\t\t    var string = content;  \r\n\t\t\t    try{  \r\n\t\t\t        string=string.replace(/\\r\\n/g,\"<br>\")  \r\n\t\t\t        string=string.replace(/\\n/g,\"<br>\");  \r\n\t\t\t    }catch(e) {  \r\n\t\t\t        return content;\r\n\t\t\t    }  \r\n\t\t\t    return string;  \r\n\t\t\t},\n\t\t\treplaceAll(string, search, replace) {\n\t\t\t  return string.split(search).join(replace);\n\t\t\t},\n\t\t\tgetUserLv(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar rankList = that.$API.GetRankList();\n\t\t\t\treturn rankList[i];\n\t\t\t},\n\t\t\t\n\t\t\tgetUserLvStyle(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar rankStyle = that.$API.GetRankStyle();\n\t\t\t\tvar userlvStyle =\"color:#fff;background-color: \"+rankStyle[i];\n\t\t\t\treturn userlvStyle;\n\t\t\t},\n\t\t\tgetLv(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar lv  = that.$API.getLever(i);\n\t\t\t\tvar leverList = that.$API.GetLeverList();\n\t\t\t\treturn leverList[lv];\n\t\t\t},\n\t\t\tgetLvStyle(i){\n\t\t\t\tvar that = this;\n\t\t\t\tif(!i){\n\t\t\t\t\tvar i = 0;\n\t\t\t\t}\n\t\t\t\tvar lv  = that.$API.getLever(i);\n\t\t\t\tvar rankStyle = that.$API.GetRankStyle();\n\t\t\t\tvar userlvStyle =\"color:#fff;background-color: \"+rankStyle[lv];\n\t\t\t\treturn userlvStyle;\n\t\t\t},\r\n\t\t\tfollow(type,uid,index){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请先登录\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthat.spaceList[index].isFollow = type;\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\ttoken:token,\r\n\t\t\t\t\ttouid:uid,\r\n\t\t\t\t\ttype:type,\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t});\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\r\n\t\t\t\t\turl: that.$API.follow(),\r\n\t\t\t\t\tdata:data,\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t//console.log(JSON.stringify(res))\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t\tthat.spaceList[index].isFollow = 0;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tvar spaceList = that.spaceList;\r\n\t\t\t\t\t\t\tfor(var i in spaceList){\r\n\t\t\t\t\t\t\t\tif(spaceList[i].userJson.uid==uid){\r\n\t\t\t\t\t\t\t\t\tspaceList[i].isFollow = type;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.spaceList = spaceList;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\ttoLike(id,index){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请先登录\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/login'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.spaceList[index].isLikes==1){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"你已经点赞过了\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.spaceList[index].isLikes = 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthat.spaceList[index].likes += 1;\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\ttoken:token,\r\n\t\t\t\t\tid:id,\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t});\r\n\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\r\n\t\t\t\t\turl: that.$API.spaceLikes(),\r\n\t\t\t\t\tdata:data,\r\n\t\t\t\t\theader:{\r\n\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t//console.log(JSON.stringify(res))\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t\tthat.spaceList[index].isLikes = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tedit(id){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/space/post?postType=edit&id='+id\r\n\t\t\t\t});\r\n\t\t\t},\n\t\t\tforward(id){\n\t\t\t\tvar that = this;\n\t\t\t\tuni.navigateTo({\n\t\t\t\t    url: '/pages/space/post?type=2&id='+id\n\t\t\t\t});\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgoShopInfo(sid){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/contents/shopinfo?sid='+sid\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgoPostInfo(id){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/forum/info?id='+id\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoUserContents(data){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar name = data.name;\r\n\t\t\t\tvar title = data.name+\"的信息\";\r\n\t\t\t\tvar id= data.uid;\r\n\t\t\t\tvar type=\"user\";\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t    url: '/pages/contents/userinfo?title='+title+\"&name=\"+name+\"&uid=\"+id+\"&avatar=\"+encodeURIComponent(data.avatar)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoBan(uid){\r\n\t\t\t\tif(uid==0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"该用户不存在\",\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/manage/banuser?uid='+uid\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttoDelete(id){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar token = \"\";\r\n\t\t\t\t\r\n\t\t\t\tif(localStorage.getItem('userinfo')){\r\n\t\t\t\t\tvar userInfo = JSON.parse(localStorage.getItem('userinfo'));\r\n\t\t\t\t\ttoken=userInfo.token;\r\n\t\t\t\t}\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"id\":id,\r\n\t\t\t\t\t\"token\":token\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确定要删除该动态吗',\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: \"加载中\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthat.$Net.request({\r\n\t\t\t\t\t\t\t\turl: that.$API.spaceDelete(),\r\n\t\t\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\t\t\theader:{\r\n\t\t\t\t\t\t\t\t\t'Content-Type':'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tif(res.data.code==1){\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg+\"，刷新数据后生效\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"网络开小差了哦\",\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgoPlay(url){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.curVideo =url;\r\n\t\t\t\tthat.isPlay=true;\r\n\t\t\t},\r\n\t\t\tgetLocal(local){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(local&&local!=''){\r\n\t\t\t\t\tvar local_arr = local.split(\"|\");\r\n\t\t\t\t\tif(!local_arr[3]||local_arr[3]==0){\r\n\t\t\t\t\t\treturn local_arr[2];\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn local_arr[3];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn \"未知\"\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n</style>"],"sourceRoot":""}